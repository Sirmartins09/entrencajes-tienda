<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras - Entre Encajes</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
<!-- NAV -->
<header class="nav">
    <div class="nav-container">
        <!-- Logo -->
        <div class="logo">
            <a href="../index.html">
                <img src="../assets/img/logo.jpeg" alt="Entre Encajes" class="logo-img">
            </a>
        </div>
        <!-- Bot√≥n hamburguesa -->
        <button class="hamburguesa" id="btn-menu">‚ò∞</button>
        <!-- Men√∫ -->
        <nav class="menu" id="menu">
            <button class="cerrar-menu">‚úï</button>
            <ul>
                <li><a href="../index.html">Inicio</a></li>
                <!-- Categor√≠as -->
                <li class="megadropdown">
                    <a href="">Categor√≠as ‚ñæ</a>
                    <div class="megamen√∫">
                        <div class="columna">
                            <h4>Ropa Interior Femenina</h4>
                            <ul>
                                <li><a href="../pages/conjuntos-clasicos.html">Conjuntos Cl√°sicos</a></li>
                                <li><a href="../pages/conjuntos-aro.html">Conjuntos con Aro / Push-Up</a></li>
                                <li><a href="../pages/estilo-bralette.html">Conjuntos sin Aro / Bralette</a></li>
                                <li><a href="../pages/deportivo-calvinklein.html">Conjuntos Deportivo</a></li>
                            </ul>
                        </div>
                        <div class="columna">
                            <a href="../pages/ni√±as.html"><h4>Ropa Interior Infantil</h4></a>
                            <ul>
                                <li><a href="../pages/bombacha-ni√±a.html">Bombacha Nena</a></li>
                                <li><a href="../pages/ni√±a-sport.html">Conjunto Ni√±a Sport</a></li>
                                <li><a href="../pages/boxer-ni√±o.html">Boxer Ni√±o</a></li>
                            </ul>
                            <a href="../pages/bombachas-colaless.html"><h4>Bombacha y Colaless</h4></a>
                            <ul>
                                <li><a href="../pages/bombacha-universal.html">Bombacha Universal</a></li>
                                <li><a href="../pages/vedetinas.html">Vedetina</a></li>
                                <li><a href="../pages/culottes-encajes.html">Culottes de Encaje</a></li>
                            </ul>
                        </div>
                        <div class="columna">
                            <a href="../pages/lenceria-masculina.html"><h4>Lencer√≠a Masculina</h4></a>
                            <ul>
                                <li><a href="../pages/boxer-adulto.html">Boxer Uomo Adulto</a></li>
                                <li><a href="../pages/slip-adulto.html">Slip Adulto</a></li>
                            </ul>
                            <a href="../pages/medias-soquetes.html"><h4>Medias y Soquetes</h4></a>
                            <ul>
                                <li><a href="../pages/soquetes.html">Soquetes</a></li>
                                <li><a href="../pages/medias.html">Medias</a></li>
                            </ul>
                            <a href="../pages/pijamas.html"><h4>Pijama</h4></a>
                            <ul>
                                <li><a href="../pages/pijama-osito.html">Pijama Osito</a></li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="../pages/contacto.html">Contacto</a></li>
                <li><a href="../pages/preguntas.html">Preguntas Frecuentes</a></li>
                <!-- Carrito en mobile -->
                <li class="cart-mobile-item">
                    <a href="../pages/carrito.html" class="cart-icon-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-cart-check-fill" viewBox="0 0 16 16">
                            <path
                                d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1.646-7.646-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708" />
                        </svg>
                        Carrito
                        <span id="cart-count-mobile" class="cart-count hidden">0</span>
                    </a>
                </li>
            </ul>
        </nav>
        <!-- Carrito en desktop -->
        <a href="../pages/carrito.html" id="ver-carrito" class="acciones cart-desktop-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-cart-check-fill" viewBox="0 0 16 16">
                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1.646-7.646-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708"/>
            </svg>
            <span id="cart-item-count-desktop" class="cart-count-hidden">0</span>
        </a>
    </div>
</header>

<header class="cart-header">
    <h1>üõí Mi Carrito de Compras</h1>
</header>

<main class="cart-container">
    <section class="cart-items">
        <div id="cart-items-list"></div>
    </section>
    <section class="cart-summary">
        <h2>Resumen del Pedido</h2>
        <div class="summary-details">
            <div class="subtotal-container">
                <span>Subtotal:</span>
                <span id="cart-subtotal-display">$ 0.00</span>
            </div>
            <div class="total-container">
                <h3>Total:</h3>
                <h3 id="cart-total-display">$ 0.00</h3>
            </div>
        </div>
        <div class="cart-actions">
            <button id="clear-cart-button" class="continue-shopping-btn">Vaciar carrito</button>
            <button id="checkout-button" class="checkout-button">Finalizar compra</button>

        </div>
    </section>
</main>

<!--FOOTER-->
<footer class="footer">
  <div class="footer-container">
    <div class="footer-logo">
      <h2>Entre Encajes</h2>
      <p>Lencer√≠a con estilo, comodidad y elegancia.</p>
    </div>
    <div class="footer-links">
      <div>
        <h3>Explor√°</h3>
        <ul>
          <li><a href="../index.html">Inicio</a></li> 
          <li><a href="../pages/contacto.html">Contacto</a></li>
        </ul>
      </div>
      <div>
        <h3>Ayuda</h3>
        <ul>
          <li><a href="../pages/preguntas.html">Preguntas Frecuentes</a></li>
        </ul>
      </div>
      <div>
        <h3>Redes</h3>
        <ul class="social-links">
          <li><a href="https://www.instagram.com/lenceria.entreencajes?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i> Instagram</a></li>
          <li><a href="https://wa.me/5492613611534?text=Hola!%20Tengo%20una%20consulta%20sobre%20sus%20productos." target="_blank" rel="noopener noreferrer"><i class="fab fa-whatsapp"></i> WhatsApp</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <p>¬© 2025 Entre Encajes. Todos los derechos reservados.</p>
  </div>
</footer>

<!-- SCRIPTS -->
<script src="../js/main.js"></script>
<script src="../assets/js/contact-form.js"></script>
<script src="https://kit.fontawesome.com/your-font-awesome-kit-code.js" crossorigin="anonymous"></script>
<script src="https://sdk.mercadopago.com/js/v2"></script>

  <script>
document.addEventListener("DOMContentLoaded", () => {
    const btnMenu = document.getElementById("btn-menu");
    const menu = document.getElementById("menu");

    // Bot√≥n de hamburguesa
    btnMenu.addEventListener("click", () => {
        menu.classList.toggle("menu-activo");
    });

    // Cerrar men√∫ desde bot√≥n
    document.addEventListener("click", function (e) {
        if (e.target.classList.contains("cerrar-menu")) {
            menu.classList.remove("menu-activo");
        }
    });

    // Submen√∫s como acorde√≥n en m√≥vil
    document.querySelectorAll('.menu li.dropdown > a, .menu li.megadropdown > a').forEach(link => {
        link.addEventListener('click', e => {
            if (window.innerWidth <= 768) {
                // *** AQU√ç EST√Å LA CORRECCI√ìN ***
                // Previene la acci√≥n por defecto solo si el enlace no tiene un href v√°lido
                if (link.getAttribute('href') === '#' || link.getAttribute('href') === '') {
                    e.preventDefault();
                } else {
                    // Si el enlace tiene un href real, cierra el men√∫
                    menu.classList.remove("menu-activo");
                    return;
                }
                
                const parent = link.parentElement;

                // Cerrar otros
                document.querySelectorAll('.menu li.abierto').forEach(el => {
                    if (el !== parent) el.classList.remove('abierto');
                });

                parent.classList.toggle('abierto');
            }
        });
    });

    // Cierra el men√∫ si se hace clic en cualquier enlace del men√∫
    document.querySelectorAll('#menu a').forEach(link => {
        link.addEventListener('click', () => {
            if (window.innerWidth <= 768) {
                // Retrasa el cierre para dar tiempo al navegador a seguir el enlace
                setTimeout(() => {
                     menu.classList.remove("menu-activo");
                }, 100);
            }
        });
    });

    // L√≥gica adicional para el carrito (si es necesario)
    const verCarrito = document.getElementById("ver-carrito");
    const carrito = document.getElementById("carrito");

    if (verCarrito && carrito) {
        verCarrito.addEventListener("click", (e) => {
             e.preventDefault();
             carrito.style.display = carrito.style.display === "block" ? "none" : "block";
        });
    }
});
</script>

<Script>
    // --- CONTADOR DEL CARRITO EN HEADER ---
  document.addEventListener('DOMContentLoaded', () => {
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

      const cartCountDesktop = document.getElementById('cart-item-count-desktop');
      if (cartCountDesktop) {
        cartCountDesktop.innerText = totalItems;
        cartCountDesktop.classList.toggle('hidden', totalItems === 0);
      }

      const cartCountMobile = document.getElementById('cart-count-mobile');
      if (cartCountMobile) {
        cartCountMobile.innerText = totalItems;
        cartCountMobile.classList.toggle('hidden', totalItems === 0);
      }
    }

    updateCartCount();

    // Si el carrito cambia en otra pesta√±a, actualiza el contador
    window.addEventListener('storage', function(e) {
      if (e.key === 'cart') updateCartCount();
    });
  });
</script>

    <script src="../js/cards.js"></script> </body>
</body>
</html>